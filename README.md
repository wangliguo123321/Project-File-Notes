# Project-File-Notes
这是一个jetbrain全家桶都可以使用的插件，两天时间已经迭代三个大版本，已上架到了插件市场。
开发者可以下载体验，解决的核心问题是代码量过大情况，来回切换会遗忘过往类作用和功能。

所以自己基于AI快速实现了一套针对每个类的注解，点击类，右侧就会自动出现类的注解编辑区，自己可以编辑类的注解。
完全基于md语法，可以在注解中插入类图之类的，方便快速回忆起当时对类的理解。  
每个类都会对应生成一个文件。
可以给每个代码文件都增加注解，新人入职等情况查看代码时候方便快速理解项目。
文件批注插件功能
✅ 批注文件存储在项目外部，不污染代码仓库
✅ 点击项目文件，右侧自动显示对应批注
✅ 支持 Markdown 格式的完整显示
✅ 持续迭代 ，双工具窗口，支持团队协作
✅ 支持搜索和批量管理
✅ 跨分支稳定的文件关联


以下是一些ai提示词，方便AI理解我意图的一些关键信息，真实对话过程中涉及到md渲染选型等各种问题，不过最终都解决了。
名称：Project File Notes (项目文件批注)
解决问题：项目工程太大的了，入职一家企业，代码量特别大，我逐个查看项目目录和文件记不住。 想要为每个类大概记录下笔记。当我点击打开这个类时候，能看到右侧我记录的笔记。 
 
诉求：帮我实现一个android studio插件解决以上问题，插件支持组内其他同学使用。 笔记也支持导出同步到组内同学。 
切换分支时候打开相同类，也有对应的批注笔记


功能主要是点击一个类文件，会出现一个针对这个文件的批注笔记。 我能自定义修改这个笔记。 这样代码工程我就能快速理解和注释清楚了。 以后每次切换类也能快速查看到类或者目录我过往的批注。 批注笔记不会储存在项目工程中不会被提交到项目。首先我用过 code notes 了， 明显不符合我的诉求， 我需要切换类时候，直接展示这整个类的笔记， 右侧出现面板显示我针对整个类的注释，切换类之后，右侧面板内容自动切换到新的类，右侧面板内容支持我的修改。帮我实现一个，给出详细完整的代码。


中文回复我，最好直接生成对应代码
Android插件名称：Project File Notes (项目文件批注)
核心功能：
1. 文件/类级别的批注： 允许用户对项目中的任何代码文件（.java, .kt, .xml 等）或文件中的特定类/函数/代码块添加、编辑、删除纯文本/Markdown 格式的笔记。
2. 批注自动展示： 当用户打开带有批注的文件时，插件应在编辑器侧边或独立工具窗口自动展示相关笔记。
3. 跨分支稳定性： 笔记的存储关联应基于文件路径和类名/函数名（非绝对行号），确保切换 Git 分支或代码改动后，笔记仍能准确锚定。
4. 团队同步机制： 提供导出/导入功能，支持团队成员间手动共享批注数据，以实现笔记在团队内部的共享。
5. 文件标记： 在 Project View 树中，为已添加批注的文件添加可视化的标记图标。


核心功能与关键补充


1. 批注（Note）管理

核心功能	详细描述与实现方式
文件/类级别的批注	核心需求： 用户可以针对任何项目文件（如 .java, .kt, .xml, .gradle 等）或文件内特定的类/函数/行添加、编辑、查看和删除纯文本批注。
展示方式	当文件被打开时，插件应在 IDE 界面（例如，侧边工具窗口、文件内容上方/下方或一个可固定的小窗口）自动显示该文件所有关联的批注。批注应与行号关联（可选），以便精确指向代码块。
批注编辑	提供一个简洁的富文本输入框（至少支持基本的Markdown格式如粗体、列表），方便用户快速记录和格式化笔记。


2. 数据存储与同步

核心功能	详细描述与实现方式
1. 本地存储机制	批注数据应独立于项目文件存储（不污染项目代码，不作为 Git 追踪对象）。最佳实践是存储在用户本地的IDE配置目录或项目根目录下的隐藏文件（如 .notes 文件夹），但要确保该隐藏文件被 .gitignore 忽略。
2. 跨分支/跨用户的同步：批注数据应设计为项目关联。当组内其他同学打开同一个项目时，如果他们也安装了插件，导入对应笔记，应该能看到公共/同步的批注。这要求： 
3. 笔记导出/导入功能： 支持将当前项目的全部批注数据导出文件。 
4. 手动/自动同步： 团队成员可以通过共享导出的文件或共同维护一个外部存储位置（例如，一个 Git 仓库专门存放批注文件）来实现同步。插件应能加载外部的批注文件。
5. 笔记锚定（重点）	解决切换分支的问题： 笔记的锚定不应该依赖绝对行号或文件绝对路径。而应依赖文件路径 和 类名/函数名（例如：com/example/MyClass.kt -> MyClass -> initData() 函数）。这样，即使切换分支导致代码行号变化，插件也能通过名称找到正确的批注。


3. 用户体验与界面 (UX/UI)

核心功能	详细描述与实现方式
批注标记	在项目导航窗口（Project View）中，已添加批注的文件应有一个小的图标标记（如一个笔记图标），方便用户一眼识别出哪些文件有笔记。
快速创建	支持快捷键或右键菜单（例如：在编辑器窗口中选中代码双击或者右键）来快速打开批注编辑框。


